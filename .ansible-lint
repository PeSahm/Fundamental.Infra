# Ansible-lint configuration
# See: https://ansible.readthedocs.io/projects/lint/configuring/

# Exclude paths from linting
exclude_paths:
  - .github/
  - tests/

# Skip specific rules
skip_list:
  # Use FQCN for builtin module actions - disabled for now for cleaner code
  - fqcn[action-core]
  - fqcn[action]
  # Shells that use pipes should set the pipefail option - acknowledged
  - risky-shell-pipe
  # Commands should not change things if nothing needs doing
  - no-changed-when
  # Use failed_when and specify error conditions instead of using ignore_errors
  - ignore-errors
  # Variables names must not be Ansible reserved names
  - var-naming[no-reserved]
  # The src argument should not use a relative path
  - no-relative-paths

# Configure rules
warn_list:
  - line-length
  - yaml[line-length]
  - yaml[comments-indentation]
  - yaml[braces]

# Enable verbose output
verbosity: 0

# File extensions to lint
kinds:
  - playbook: "ansible/playbooks/*.yaml"
  - tasks: "ansible/roles/*/tasks/*.yaml"
  - handlers: "ansible/roles/*/handlers/*.yaml"
